window.wxc=window.wxc||{},window.wxc.xcConfirm=function(n,o,t){function i(){u.input===x&&f.append(A),e(),c()}function e(){y.append(E.append(D).append(m)).append(I.append(b).append(f)).append(O.append(p(v))),h.attr("id",g).append(B).append(y),$("body").append(h)}function c(){_.click(a),$(window).bind("keydown",function(n){13==n.keyCode&&1==$("#"+g).length&&a()}),j.click(d),D.click(s)}function a(){var n=($(this),$.trim(A.val()));A.is(":visible")?C.onOk(n):C.onOk(),$("#"+g).remove(),C.onClose(w.ok)}function d(){$(this);C.onCancel(),$("#"+g).remove(),C.onClose(w.cancel)}function s(){$("#"+g).remove(),C.onClose(w.close),$(window).unbind("keydown")}function p(n){var o=$("<div>").addClass("btnGroup");return $.each(G,function(t,i){r[t]==(n&r[t])&&o.append(i)}),o}function l(){var n="pop_"+(new Date).getTime()+parseInt(1e5*Math.random());return $("#"+n).length>0?l():n}var r=window.wxc.xcConfirm.btnEnum,w=window.wxc.xcConfirm.eventEnum,u={info:{title:"信息",icon:"0 0",btn:r.ok},success:{title:"成功",icon:"0 -48px",btn:r.ok},error:{title:"错误",icon:"-48px -48px",btn:r.ok},confirm:{title:"提示",icon:"-48px 0",btn:r.okcancel},warning:{title:"警告",icon:"0 -96px",btn:r.ok},input:{title:"输入",icon:"",btn:r.ok},custom:{title:"",icon:"",btn:r.ok}},x=o?o instanceof Object?o:u[o]||{}:{},C=$.extend(!0,{title:"",icon:"",btn:r.ok,onOk:$.noop,onCancel:$.noop,onClose:$.noop},x,t),f=$("<p>").html(n),m=$("<span>").addClass("tt").text(C.title),k=C.icon,b=k?$("<div>").addClass("bigIcon").css("backgroundPosition",k):"",v=C.btn,g=l(),h=$("<div>").addClass("xcConfirm"),B=$("<div>").addClass("xc_layer"),y=$("<div>").addClass("popBox"),E=$("<div>").addClass("ttBox"),I=$("<div>").addClass("txtBox"),O=$("<div>").addClass("btnArea"),_=$("<a>").addClass("sgBtn").addClass("ok").text("确定"),j=$("<a>").addClass("sgBtn").addClass("cancel").text("取消"),A=$("<input>").addClass("inputBox"),D=$("<a>").addClass("clsBtn"),G={ok:_,cancel:j};i()},window.wxc.xcConfirm.btnEnum={ok:parseInt("0001",2),cancel:parseInt("0010",2),okcancel:parseInt("0011",2)},window.wxc.xcConfirm.eventEnum={ok:1,cancel:2,close:3},window.wxc.xcConfirm.typeEnum={info:"info",success:"success",error:"error",confirm:"confirm",warning:"warning",input:"input",custom:"custom"};